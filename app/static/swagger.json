openapi: 3.0.1
info:
  title: Holberton School HBNB API
  description: API documentation for the Holberton School HBNB project.
  version: 1.0.0
servers:
  - url: http://localhost:5000
paths:
  /status:
    get:
      summary: Get the status of the API
      tags:
        - Status
      responses:
        '200':
          description: API is up and running
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Status'
              examples:
                example-1:
                  value:
                    status: "OK"
  /places:
    get:
      summary: List all places
      tags:
        - Places
      responses:
        '200':
          description: A list of places
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Place'
              examples:
                example-1:
                  value:
                    - id: "1"
                      name: "Beach House"
                      city_id: "2"
                      user_id: "3"
                      description: "A lovely beach house"
                      number_rooms: 4
                      number_bathrooms: 2
                      max_guest: 8
                      price_by_night: 200
                      latitude: 36.778259
                      longitude: -119.417931
                      amenity_ids: ["5", "6"]
    post:
      summary: Create a new place
      tags:
        - Places
      requestBody:
        description: Place object that needs to be added
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Place'
            examples:
              example-1:
                value:
                  name: "Mountain Cabin"
                  city_id: "4"
                  user_id: "3"
                  description: "A cozy mountain cabin"
                  number_rooms: 3
                  number_bathrooms: 1
                  max_guest: 5
                  price_by_night: 150
                  latitude: 34.052235
                  longitude: -118.243683
                  amenity_ids: ["7", "8"]
      responses:
        '201':
          description: Place created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Place'
  /places/{place_id}:
    get:
      summary: Get a place by ID
      tags:
        - Places
      parameters:
        - name: place_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: A single place
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Place'
              examples:
                example-1:
                  value:
                    id: "1"
                    name: "Beach House"
                    city_id: "2"
                    user_id: "3"
                    description: "A lovely beach house"
                    number_rooms: 4
                    number_bathrooms: 2
                    max_guest: 8
                    price_by_night: 200
                    latitude: 36.778259
                    longitude: -119.417931
                    amenity_ids: ["5", "6"]
        '404':
          description: Place not found
    put:
      summary: Update a place by ID
      tags:
        - Places
      parameters:
        - name: place_id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        description: Place object with updated data
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Place'
            examples:
              example-1:
                value:
                  name: "Updated Beach House"
                  city_id: "2"
                  user_id: "3"
                  description: "An updated description"
                  number_rooms: 5
                  number_bathrooms: 3
                  max_guest: 10
                  price_by_night: 250
                  latitude: 36.778259
                  longitude: -119.417931
                  amenity_ids: ["5", "6", "7"]
      responses:
        '200':
          description: Place updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Place'
        '404':
          description: Place not found
    delete:
      summary: Delete a place by ID
      tags:
        - Places
      parameters:
        - name: place_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '204':
          description: Place deleted
        '404':
          description: Place not found
  /users:
    get:
      summary: List all users
      tags:
        - Users
      responses:
        '200':
          description: A list of users
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/User'
              examples:
                example-1:
                  value:
                    - id: "1"
                      email: "user1@example.com"
                      first_name: "John"
                      last_name: "Doe"
                    - id: "2"
                      email: "user2@example.com"
                      first_name: "Jane"
                      last_name: "Doe"
    post:
      summary: Create a new user
      tags:
        - Users
      requestBody:
        description: User object that needs to be added
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/User'
            examples:
              example-1:
                value:
                  email: "newuser@example.com"
                  password: "password123"
                  first_name: "New"
                  last_name: "User"
      responses:
        '201':
          description: User created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
  /users/{user_id}:
    get:
      summary: Get a user by ID
      tags:
        - Users
      parameters:
        - name: user_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: A single user
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
              examples:
                example-1:
                  value:
                    id: "1"
                    email: "user1@example.com"
                    first_name: "John"
                    last_name: "Doe"
        '404':
          description: User not found
    put:
      summary: Update a user by ID
      tags:
        - Users
      parameters:
        - name: user_id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        description: User object with updated data
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/User'
            examples:
              example-1:
                value:
                  email: "updateduser@example.com"
                  password: "newpassword123"
                  first_name: "Updated"
                  last_name: "User"
      responses:
        '200':
          description: User updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        '404':
          description: User not found
    delete:
      summary: Delete a user by ID
      tags:
        - Users
      parameters:
        - name: user_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '204':
          description: User deleted
        '404':
          description: User not found
  /amenities:
    get:
      summary: List all amenities
      tags:
        - Amenities
      responses:
        '200':
          description: A list of amenities
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Amenity'
              examples:
                example-1:
                  value:
                    - id: "1"
                      name: "WiFi"
                    - id: "2"
                      name: "Pool"
    post:
      summary: Create a new amenity
      tags:
        - Amenities
      requestBody:
        description: Amenity object that needs to be added
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Amenity'
            examples:
              example-1:
                value:
                  name: "Gym"
      responses:
        '201':
          description: Amenity created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Amenity'
  /amenities/{amenity_id}:
    get:
     
    summary: Get an amenity by ID
    tags:
      - Amenities
    parameters:
      - name: amenity_id
        in: path
        required: true
        schema:
          type: string
    responses:
      '200':
        description: A single amenity
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Amenity'
            examples:
              example-1:
                value:
                  id: "1"
                  name: "WiFi"
      '404':
        description: Amenity not found
    put:
      summary: Update an amenity by ID
      tags:
        - Amenities
      parameters:
        - name: amenity_id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        description: Amenity object with updated data
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Amenity'
            examples:
              example-1:
                value:
                  name: "Updated Gym"
      responses:
        '200':
          description: Amenity updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Amenity'
        '404':
          description: Amenity not found
    delete:
      summary: Delete an amenity by ID
      tags:
        - Amenities
      parameters:
        - name: amenity_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '204':
          description: Amenity deleted
        '404':
          description: Amenity not found
  /reviews:
    get:
      summary: List all reviews
      tags:
        - Reviews
      responses:
        '200':
          description: A list of reviews
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Review'
              examples:
                example-1:
                  value:
                    - id: "1"
                      user_id: "2"
                      place_id: "3"
                      text: "Great place!"
                    - id: "2"
                      user_id: "3"
                      place_id: "4"
                      text: "Not bad"
    post:
      summary: Create a new review
      tags:
        - Reviews
      requestBody:
        description: Review object that needs to be added
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Review'
            examples:
              example-1:
                value:
                  user_id: "2"
                  place_id: "3"
                  text: "Amazing stay!"
      responses:
        '201':
          description: Review created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Review'
  /reviews/{review_id}:
    get:
      summary: Get a review by ID
      tags:
        - Reviews
      parameters:
        - name: review_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: A single review
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Review'
              examples:
                example-1:
                  value:
                    id: "1"
                    user_id: "2"
                    place_id: "3"
                    text: "Great place!"
        '404':
          description: Review not found
    put:
      summary: Update a review by ID
      tags:
        - Reviews
      parameters:
        - name: review_id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        description: Review object with updated data
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Review'
            examples:
              example-1:
                value:
                  text: "Updated review text"
      responses:
        '200':
          description: Review updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Review'
        '404':
          description: Review not found
    delete:
      summary: Delete a review by ID
      tags:
        - Reviews
      parameters:
        - name: review_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '204':
          description: Review deleted
        '404':
          description: Review not found
components:
  schemas:
    Status:
      type: object
      properties:
        status:
          type: string
          example: OK
    Place:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        city_id:
          type: string
        user_id:
          type: string
        description:
          type: string
        number_rooms:
          type: integer
        number_bathrooms:
          type: integer
        max_guest:
          type: integer
        price_by_night:
          type: integer
        latitude:
          type: number
          format: float
        longitude:
          type: number
          format: float
        amenity_ids:
          type: array
          items:
            type: string
    User:
      type: object
      properties:
        id:
          type: string
        email:
          type: string
        password:
          type: string
        first_name:
          type: string
        last_name:
          type: string
    Amenity:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
    Review:
      type: object
      properties:
        id:
          type: string
        user_id:
          type: string
        place_id:
          type: string
        text:
          type: string
